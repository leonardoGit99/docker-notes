
---
Debido a que el ambiente de **desarrolo** es diferente al de **produccion**, necesitamos crear dos o más ambientes de trabajo con docker.

Por ejemplo, en el caso de node, necesitamos nodemon, etc., es decir, el script que nos permite recargar la app automaticamente despues de un cambio en el codigo.



> Ejemplo: ts-node-dev nos permite hacer lo mismo que nodemon para typescript

````json
"scripts": {

    "dev": "ts-node-dev --respawn --transpile-only src/index.ts",

    "build": "tsc",

    "start": "node dist/index.js"

  }
````


Por lo tanto, la mejor solución es crear otro archivo **Dockerfile.dev** para desarollo:
Debería ser similar a nuestro **Dockerfile** pero con ligeros cambios.

>Ejemplo para express: Notese que agregamos un run para instalar ts-node-dev y el comando para ejecutar nuestra app cambia para ejecutar nuestro comando de ejecución o recarga automática. [[3. Dockerfile (producción)|Click para ver DockerFile (produccion)]]

```dockerfile
FROM node:20-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
# Acá
RUN npm install -g ts-node-dev  
COPY . .
Compila TypeScript a dist/
RUN npm run build
EXPOSE 4000
#Y acá
CMD ["ts-node-dev", "--respawn", "--transpile-only", "src/index.ts"] 
```
